{"version":3,"sources":["layout/Header/Header.js","layout/Footer/Footer.js","layout/Shopcar/Shopcar.js","layout/Notice/Notice.js","layout/Loading/Loading.js","layout/NavHead/NavHead.js","plugins/axios.js","components/Cell/index.js","pages/Home/Home.js","pages/Goods/Goods.js","pages/Detail/Detail.js","pages/Business/Business.js","pages/Reviews/Reviews.js","pages/User/User.js","pages/Errorpage/Errorpage.js","guard/Auth.js","layout/App/index.js","utils/filedate.js","index.js"],"names":["Header","className","to","Component","Footer","props","state","tabs","title","key","selectedTab","hidden","fullScreen","pageText","style","backgroundColor","height","textAlign","paddingTop","display","marginTop","marginBottom","color","onClick","e","preventDefault","setState","this","position","width","top","Shopcar","Notice","Loading","React","axios","interceptors","request","use","config","PubSub","publish","error","Promise","reject","response","window","Cell","cell","url","then","res","data","console","log","dataName","map","val","_id","pathname","search","querystring","stringify","src","price","aria-hidden","produce","defaultProps","Home","banner","imgHeight","infinite","autoplay","href","alt","verticalAlign","onLoad","dispatchEvent","Event","bottom","sub_title","Goods","Detail","Business","Reviews","User","Errorpage","Auth","hasAuth","rest","components","render","App","bHead","bFoot","bShopcar","bNotice","bLoading","bNavHead","checkPath","path","test","token","subscribe","msg","bLoding","nextProps","location","component","exact","from","unsubscribe","date","d","Date","setTime","toLocaleString","Object","keys","utils","forEach","value","ReactDom","document","getElementById"],"mappings":"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","file":"static/js/main.11296fe4.chunk.js","sourcesContent":["import React, { Component } from 'react'\nimport {NavLink} from 'react-router-dom'\nimport './Header.scss'\n\nexport default class Header extends Component {\n    render() {\n        return (\n            <div className='Header'>\n                <NavLink to='/home'>首页</NavLink>\n                <NavLink to='/goods'>商品</NavLink>\n                <NavLink to='/user'>用户</NavLink>\n                <NavLink to='/business'>商家</NavLink>\n                <NavLink to='/detail/:id'>商品详情</NavLink>\n                <NavLink to='/reviews'>搜索</NavLink>\n            </div>\n        )\n    }\n    \n}\n","import React, { Component } from 'react'\nimport { TabBar } from 'antd-mobile';\n\nexport default class Footer extends Component {\n    state = {\n        tabs: [\n            { title: 'First Tab', key: 't1' },\n            { title: 'Second Tab', key: 't2' },\n            { title: 'Third Tab', key: 't3' },\n        ]\n    }\n    constructor(props) {\n        super(props);\n        this.state = {\n            selectedTab: 'redTab',\n            hidden: false,\n            fullScreen: false,\n        };\n    }\n\n    renderContent(pageText) {\n        return (\n            <div style={{ backgroundColor: 'white', height: '100%', textAlign: 'center' }}>\n                <div style={{ paddingTop: 60 }}>Clicked “{pageText}” tab， show “{pageText}” information</div>\n                <a style={{ display: 'block', marginTop: 40, marginBottom: 20, color: '#108ee9' }}\n                    onClick={(e) => {\n                        e.preventDefault();\n                        this.setState({\n                            hidden: !this.state.hidden,\n                        });\n                    }}\n                >\n                    Click to show/hide tab-bar\n            </a>\n                <a style={{ display: 'block', marginBottom: 600, color: '#108ee9' }}\n                    onClick={(e) => {\n                        e.preventDefault();\n                        this.setState({\n                            fullScreen: !this.state.fullScreen,\n                        });\n                    }}\n                >\n                    Click to switch fullscreen\n            </a>\n            </div>\n        );\n    }\n    render() {\n        return (\n          <div style={this.state.fullScreen ? { position: 'fixed', height: '100%', width: '100%', top: 0 } : {  }}>\n           </div>\n        );\n      }\n}\n","import React, { Component } from 'react'\n\nexport default class Shopcar extends Component {\n    render() {\n        return (\n            <div className='Shopcar'>\n                <div>Shopcar组件</div>\n            </div>\n        )\n    }\n}\n","import React, { Component } from 'react'\n\nexport default class Notice extends Component {\n    render() {\n        return (\n            <div className='Notice'>\n                <div>notice组件</div>\n            </div>\n        )\n    }\n}\n","import React from 'react'\r\nimport './Loading.css'\r\nexport default class Loading extends React.Component{\r\n  render(){\r\n    return (\r\n      <div className=\"spinner\">\r\n        <div className=\"rect1\"></div>\r\n        <div className=\"rect2\"></div>\r\n        <div className=\"rect3\"></div>\r\n        <div className=\"rect4\"></div>\r\n        <div className=\"rect5\"></div>\r\n      </div>\r\n    )\r\n  }\r\n}","import React, { Component } from 'react'\nimport { NavBar, Icon } from 'antd-mobile';\n\nexport default class Header extends Component {\n    render() {\n        return (\n            <div className='Header'>\n                <NavBar\n                    mode=\"dark\"\n                    leftContent={\n                        <div>Back</div>\n                    }\n                    rightContent={[\n                        <Icon key=\"0\" type=\"search\" style={{ marginRight: '16px' }} />,\n                        <Icon key=\"1\" type=\"ellipsis\" />,\n                    ]}\n                    onLeftClick={this.show}\n                >\n                    菜单\n                </NavBar>\n            </div>\n        )\n    }\n    show=()=>{\n        window.history.go(-1)\n    }\n}\n","import axios from 'axios';\nimport React from 'react';\n//引入插件pubsub-js\nimport PubSub from 'pubsub-js'\n\n//拦截器\naxios.interceptors.request.use(function (config) {\n    // Do something before request is sent\n\n    //发布 通知app 修改bLoadig数据\n    PubSub.publish('VIEW_LOADING',true);\n\n    return config;\n  }, function (error) {\n    // Do something with request error\n    return Promise.reject(error);\n  });\n \n// Add a response interceptor\naxios.interceptors.response.use(function (response) {\n    // Do something with response data\n    //发布 通知app 修改bLoading数据\n    PubSub.publish('VIEW_LOADING',false);\n\n    return response;\n  }, function (error) {\n    // Do something with response error\n    return Promise.reject(error);\n  });\n\n\nReact.Component.axios = axios;\nwindow.axios=axios\n\nexport default axios","import React from 'react'\nimport axios from '../../plugins/axios';\nimport './Cell.scss'\nimport {Link} from 'react-router-dom'\nimport querystring from 'query-string'\nimport propTypes from 'prop-types'\n\nexport default class Cell extends React.Component {\n    state = {\n        cell: []\n    }\n    constructor(props) {\n        super(props)\n        axios({\n            url: '/api/gift'\n        }).then(\n            res => this.setState({ cell: res.data.data })\n        )\n    }\n    \n    render() {\n        let { cell } = this.state\n        console.log(this.props)\n        console.log(cell, 'cell')\n\n        const {dataName} =this.props;\n        return (\n            <div className='Cell'>\n                <div className=\"am-card\">\n                    <div className=\"am-card-body\">\n                        {/* 加入循环 */}\n                        {\n                            cell && cell.map(val => (\n                                <Link key={val._id} className=\"am-card-item\" to={{pathname:`/detail/${val._id}`,search:querystring.stringify({dataName})}} >\n                                    <div className=\"am-card-minfo\">\n                                        <div className=\"am-card-thumb\">\n                                            {/* 图片 */}\n                                            <img src={val.src} />\n                                        </div>\n                                        <div className=\"am-card-content\">\n                                            <div className=\"am-card-title\">{val.price}</div>\n                                            <div className=\"am-card-subtitle\">{val.title}</div>\n                                        </div>\n                                        <div className=\"am-list-arrow\" aria-hidden=\"true\"><span className=\"am-icon arrow horizontal\"></span></div>\n                                    </div>\n                                    <div className=\"am-card-footnote\">\n                                        <img src={val.src} />\n                                        {val.produce}\n                                    </div>\n                                </Link>\n                            ))\n                        }\n\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\n//props参数默认样式\nCell.defaultProps ={\n\n}\n//prop参数类型限制🚫\nCell.propTypes={\n    dataName:propTypes.string\n}\n","import React, { Component } from 'react'\nimport { Carousel, WingBlank } from 'antd-mobile';\nimport Cell from '../../components/Cell'\n\nexport default class Home extends Component {\n    state = {\n        banner: ['1', '2', '3'],\n        imgHeight: 176,\n    }\n    constructor(props) {\n        super(props)\n        Home.axios({\n            url: '/api/banner'\n        }).then(res => {\n            this.setState({\n                banner: res.data.data\n            })\n            // console.log(res.data.data)\n        })\n    }\n    componentDidMount() {\n        // console.log()\n    }\n    render() {\n        return (\n            <div className=\"Home\">\n                <WingBlank>\n                    <Carousel\n                        infinite\n                        // beforeChange={(from, to) => console.log(`slide from ${from} to ${to}`)}\n                        // afterChange={index => console.log('slide to', index)}\n                        autoplay={true}\n                    >\n                        {this.state.banner.map(val => (\n                            <a\n                                key={val}\n                                href=\"http://www.mochangba.top:3000\"\n                                style={{ display: 'inline-block', width: '100%', height: this.state.imgHeight,position:'relative '}}\n                            >\n                                <img\n                                    src={Home.url + val.banner}\n                                    alt=\"\"\n                                    style={{ width: '100%', verticalAlign: 'top' }}\n                                    onLoad={() => {\n                                        // fire window resize event to change height\n                                        window.dispatchEvent(new Event('resize'));\n                                        this.setState({ imgHeight: 'auto' });\n                                    }}\n                                />\n                                <p className='title' style={{position:'absolute',bottom:'20px',color:'#fff'}}>{val.title}</p>\n                                <p className='title_2' style={{position:'absolute',bottom:'0'}}>{val.sub_title}</p>\n                            </a>\n                        ))}\n                    </Carousel>\n                </WingBlank>\n                <Cell {...this.props} dataName='gift'></Cell>\n            </div>\n        )\n    }\n}\n","import React, { Component } from 'react'\n\nexport default class Goods extends Component {\n    render() {\n        return (\n            <div>\n                <div>Goods组件</div>\n            </div>\n        )\n    }\n}\n","import React, { Component } from 'react'\nimport './Detail.scss'\n\nexport default class Detail extends Component {\n    render() {\n        return (\n            <div className='Detail'>\n                <div className=\"am-article\">\n                    <h2>标题文字可折行但不超过两行不超过两行</h2>\n                    <time><span className=\"am-ft-black\">毒舌电影</span> 01-13</time>\n                    <p>\n                        <img src='http://localhost:3000/upload/banner/c533e969dc8bac673ddbe8996a5f2546.png' width=\"100%\" />\n                    </p>\n                    <p>\n                        该片明显将战争的正义与非正义之分模糊化了。作为以第二次世界大战冲绳岛之战为背景的电影，如果避而不谈当时的国际形势、战争起因，仅讨论人性、信仰、恶魔等泛化元素，仅以一个大兵的个人信仰和好恶判断战争难免有为了反战而不顾一切地想掩饰什么之嫌。\n                    </p>\n                    <p>\n                        最近30多年来，美军几乎4-5年就要打一场局部战争，为了师出有名，他们打出的旗号往往是推翻独裁统治、解放受苦难人民等，他们不是总把杀戮别国人民、牺牲美军士兵的战争，标榜为正义战争吗？\n                    </p>\n                    <h4>1.2节标题</h4>\n                    <p>\n                        支付宝方面介绍，“全球未来机场计划”是指未来游客在海外机场，除了可用支付宝消费之外，还可以通过支付宝使用航班提醒、室内导航、一键叫电瓶车等服务。支付宝表示，希望未来可以覆盖30家接待中国出境游客最多的海外机场。\n                    </p>\n                    <blockquote>\n                        本内容由“第一财经”授权，如果有任何疑问请与“第一财经”联系。\n                    </blockquote>\n                    <div className=\"am-article-tags\">\n                        <span className=\"am-tag-item\">电影</span>\n                        <span className=\"am-tag-item\">战争</span>\n                        <span className=\"am-tag-item\">二战</span>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n","import React, { Component } from 'react'\n\nexport default class Business extends Component {\n    render() {\n        return (\n            <div>\n                <div>Business页面</div>\n            </div>\n        )\n    }\n}\n","import React, { Component } from 'react'\n\nexport default class Reviews extends Component {\n    render() {\n        return (\n            <div>\n                <div>Reviews页面</div>\n            </div>\n        )\n    }\n}\n","import React, { Component } from 'react'\n\nexport default class User extends Component {\n    render() {\n        return (\n            <div>\n                <div>User组件页面</div>\n            </div>\n        )\n    }\n}\n","import React, { Component } from 'react'\n\nexport default class Errorpage extends Component {\n    render() {\n        return (\n            <div className='Errorpage'>\n                <div>错误页面404</div>\n            </div>\n        )\n    }\n}\n","import React, { Component } from 'react'\nimport {Route,Redirect} from 'react-router-dom'\n\nexport default class Auth extends Component {\n    constructor(props){\n        super(props);\n        this.state={\n            hasAuth:false,\n            data:{}\n        }\n        // console.log(Auth,\"Auth类的内容\"\n    }\n    render() {\n        let {components:Component,...rest} = this.props;\n\n        return (\n            \n            <Route {...rest} render={(props)=>(\n                <Redirect {...props} to='/user'/>\n            )}/>\n            \n        )\n    }\n}\n\n\n","import React, { Component } from 'react'\n\nimport { Switch, Route, Redirect,NavLink } from 'react-router-dom'\n\nimport './App.scss'\n//layouts组件引用\nimport Header from '../Header/Header'\nimport Footer from '../Footer/Footer'\nimport Shopcar from '../Shopcar/Shopcar'\nimport Notice from '../Notice/Notice'\nimport Loading from '../Loading/Loading'\nimport NavHead from '../NavHead/NavHead'\n\n\n//pages页面集合组件\nimport Home from '../../pages/Home/Home'\nimport Goods from '../../pages/Goods/Goods'\nimport Detail from '../../pages/Detail/Detail'\nimport Business from '../../pages/Business/Business'\nimport Reviews from '../../pages/Reviews/Reviews'\nimport User from '../../pages/User/User'\nimport Errorpage from '../../pages/Errorpage/Errorpage'\n\n\n//guard 路由守卫组件\nimport Auth from '../../guard/Auth'\n//引入发布订阅\nimport PubSub from 'pubsub-js'\n\n\nexport default class App extends Component {\n    state = {\n        bHead: false,\n        bFoot: false,\n        bShopcar: false,\n        bNotice: false,\n        bLoading: false,\n        bNavHead: false\n    }\n    constructor() {\n        super();\n        //订阅   发布 在axios.js文件内\n        this.token = PubSub.subscribe('VIEW_LODING', (msg, data) => {\n            //msg ~~ VIEW_LOADING\n            //data ~~ 发布的传递过来的数据\n            console.log('VIEW_LOADING', msg, data);\n            this.setState({ bLoding: data })\n        })\n    }\n    componentWillReceiveProps(nextProps) {\n        let path = nextProps.location.pathname;\n        console.log('app componentWillReceiverops path:', path)\n        this.checkPath(path)\n\n    }\n    componentWillMount() {\n        console.log('componentWillMount App')\n    }\n    componentDidMount() {\n        let path = this.props.location.pathname;\n        console.log('app componentDidMount path:', path)\n        this.checkPath(path)\n    }\n    checkPath = (path) => {\n        if (/^(\\/goods|\\/detail)/.test(path)) {\n            this.setState({\n                bHead: true,\n                bFoot: true,\n                bShopcar: false,\n                bNotice: false,\n\n            })\n        }\n        if (/^(\\/home)/.test(path)) {\n            this.setState({\n                bHead: true,\n                bFoot: false,\n                bShopcar: false,\n                bNotice: false,\n            })\n        }\n        if (/^(\\/user|\\/business)/.test(path)) {\n            this.setState({\n                bHead: false,\n                bFoot: true,\n                bShopcar: false,\n                bNotice: false,\n            })\n        }\n\n    }\n    //ant插件函数\n\n    render() {\n        let { bHead, bFoot, bNotice, bShopcar, bLoading ,bNavHead} = this.state\n        return (\n            <div className=\"App\">\n                {bHead && <Header />}\n                {bLoading && <Loading />}\n                \n                <Switch>\n                    <Route path='/home' component={Home}/>\n                    <Route path='/goods' component={Goods} />\n                    <Auth path='/user' component={User} />\n                    <Route path='/business' component={Business} />\n                    <Route path='/detail/:id' component={Detail} />\n                    <Route path='/reviews' component={Reviews} />\n                    <Redirect exact from='/' to='/goods' />\n                    <Route component={Errorpage} />\n                </Switch>\n                {bNotice ? <Notice /> : null}\n                {bShopcar && <Shopcar />}\n                {bFoot && <Footer />}\n\n            </div>\n        )\n    }\n    componentWillUnmount() {\n        //取消订阅\n        PubSub.unsubscribe(this.token)\n    }\n}\n","export default (date)=>{\n    let d=new Date()\n    d.setTime(date)\n    return d.toLocaleString()\n}","import React from 'react';\nimport ReactDom from 'react-dom';\n\nimport App from './layout/App'\n\n//引入公共样式\nimport './assets/scss/base.scss';\n\n//引入路由\nimport {BrowserRouter,Route} from 'react-router-dom'\n//引入axios\nimport './plugins/axios'\n\n\n\n//引入自定义函数，绑定给Component\nimport * as utils from './utils'\nObject.keys(utils).forEach(value=>(React.Component[value]=utils[value]))\n\n//在React.Component对象，设置公共的URL，提供类属性\nReact.Component.url = 'http://www.mochangba.top:80';\n\nReactDom.render(\n    <BrowserRouter>\n        <Route component={App}/>\n    </BrowserRouter>,\n    document.getElementById('root')\n)"],"sourceRoot":""}